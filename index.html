<!-- Mantém o mesmo cabeçalho e estilos anteriores -->
<!-- Atualizações importantes estão marcadas com COMENTÁRIOS -->

<!-- ... início do <head> ... -->
<style>
  /* ... estilos anteriores ... */

  .nav-buttons {
    display: flex;
    gap: 10px;
    margin-top: 10px;
  }
  .nav-buttons button {
    padding: 6px 12px;
    background-color: #0077cc;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }
  .nav-buttons button:hover {
    background-color: #005fa3;
  }

  /* Botão de voltar ao topo */
  #backToTop {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background-color: #0077cc;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 50px;
    font-size: 14px;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    z-index: 1000;
  }
</style>
<!-- ... fim do <head> ... -->

<body>
  <!-- ... cabeçalho e container ... -->

  <div class="catalog-page" id="catalog"></div>

  <!-- Modal para visualização -->
  <div id="imgModal" class="modal">
    <span class="close" onclick="document.getElementById('imgModal').style.display='none'">&times;</span>
    <div class="modal-content">
      <img id="modalImg" src="" alt="Imagem ampliada">
    </div>
  </div>

  <!-- Botão de voltar ao topo -->
  <button id="backToTop" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">↑ Topo</button>

  <script>
    const catalog = document.getElementById('catalog');

    for (let i = 1; i <= 80; i++) {
      const index = i.toString().padStart(2, '0');
      const product = document.createElement('div');
      product.className = 'product';

      const mainImg = document.createElement('img');
      mainImg.src = `https://shakaw67.github.io/Shakaw3DPrint/${index}.PNG`;
      mainImg.alt = `Produto ${i}`;
      mainImg.className = 'main-img';
      mainImg.dataset.index = index;
      mainImg.dataset.imgNumber = "0"; // 0 = imagem principal
      mainImg.onclick = function () {
        document.getElementById('imgModal').style.display = 'block';
        document.getElementById('modalImg').src = this.src;
      };

      const details = document.createElement('div');
      details.className = 'product-details';

      let descricao = `Modelo <br> Imagem Real <br> Escala 1/18. Tamanho entre 8cm e 11cm de altura.`;
      let preco = 'R$ 60,00';
      if (i === 60) {
        descricao = `Modelo <br> Imagem Real <br> Escala 1/18.`;
        preco = 'R$ 90,00';
      }

      details.innerHTML = `
        <h2>Produto ${i}</h2>
        <p><strong>Código:</strong> ${index}</p>
        <p><strong>Descrição:</strong> ${descricao}</p>
        <p class="price">${preco}</p>
      `;

      // Botões anterior/próxima
      const nav = document.createElement('div');
      nav.className = 'nav-buttons';

      const btnPrev = document.createElement('button');
      btnPrev.innerText = '◀ Anterior';
      btnPrev.onclick = function () {
        const current = parseInt(mainImg.dataset.imgNumber);
        const next = current - 1;
        let newSrc = next === 0
          ? `https://shakaw67.github.io/Shakaw3DPrint/${index}.PNG`
          : `https://shakaw67.github.io/Shakaw3DPrint/${index}_${next}.PNG`;

        checkImage(newSrc, () => {
          mainImg.src = newSrc;
          mainImg.dataset.imgNumber = next;
        });
      };

      const btnNext = document.createElement('button');
      btnNext.innerText = 'Próxima ▶';
      btnNext.onclick = function () {
        const current = parseInt(mainImg.dataset.imgNumber);
        const next = current + 1;
        const newSrc = `https://shakaw67.github.io/Shakaw3DPrint/${index}_${next}.PNG`;

        checkImage(newSrc, () => {
          mainImg.src = newSrc;
          mainImg.dataset.imgNumber = next;
        });
      };

      nav.appendChild(btnPrev);
      nav.appendChild(btnNext);
      details.appendChild(nav);

      product.appendChild(mainImg);
      product.appendChild(details);
      catalog.appendChild(product);
    }

    // Verifica se imagem existe antes de trocar
    function checkImage(src, callback) {
      const img = new Image();
      img.onload = () => callback();
      img.onerror = () => {};
      img.src = src;
    }
  </script>
</body>
